<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ | SNS</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Noto Sans JP', ui-sans-serif, system-ui, -apple-system,
            BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans",
            sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; }
  </style>
</head>
<body class="bg-white text-black antialiased">

  <!-- Header -->
  <header class="sticky top-0 z-10 bg-white/95 backdrop-blur border-b border-black/10">
    <div class="max-w-2xl mx-auto px-4 py-3 flex items-center gap-3">
      <button onclick="history.back()" class="p-2 rounded-full hover:bg-black/5" aria-label="æˆ»ã‚‹">
        <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path d="M15.75 19.5 8.25 12l7.5-7.5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <h1 class="text-base font-semibold">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</h1>
    </div>
  </header>

  <!-- List -->
  <main class="max-w-2xl mx-auto px-3 sm:px-4 pb-6">
    <ul id="threadList" class="divide-y divide-black/10"></ul>

    <!-- ç©ºçŠ¶æ…‹ -->
    <div id="empty" class="hidden">
      <div class="mt-10 rounded-2xl border border-black/10 bg-gray-50 p-8 text-center">
        <div class="text-lg font-semibold mb-1">ä¼šè©±ã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“</div>
        <p class="text-sm text-black/60">æ–°ã—ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå±Šãã¨ã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</p>
      </div>
    </div>
  </main>

  <script>
    // ===== ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ï¼ˆAPIæ¥ç¶šæ™‚ã¯ç½®ãæ›ãˆï¼‰ =====
    const threads = [
      { id: 1, name: 'okamoto_151', avatar: '',  lastAt: '12:30',snippet: 'ã¾ãŸé€£çµ¡ã—ã¾ã™ã€œ' },
      { id: 2, name: 'nagoyagrampus', avatar: '', lastAt: '10:00', snippet: 'è©¦åˆã®ãƒã‚±ãƒƒãƒˆæƒ…å ±ã§ã™' },
      { id: 3, name: 'line_coupon',   avatar: '', lastAt: 'æ˜¨æ—¥',  snippet: 'æœ¬æ—¥ã‚¹ã‚¿ãƒ¼ãƒˆï¼ãŠå¾—ãªâ€¦' },
      { id: 4, name: 'zozotown',      avatar: '', lastAt: 'æ˜¨æ—¥', snippet: 'ã‚»ãƒ¼ãƒ«é–‹å‚¬ä¸­ï¼' },
      { id: 5, name: 'miho',          avatar: '', lastAt: '3æ—¥å‰',snippet: 'å†™çœŸé€ã£ãŸã‚ˆğŸ“·' },
    ];

    // ===== ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ =====
    function avatarElm(name, url) {
      // ç”»åƒURLãŒã‚ã‚Œã° <img>ã€ãªã‘ã‚Œã°é ­æ–‡å­—ã§ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€
      if (url) {
        return `
          <img src="${url}" alt="${name}" class="w-12 h-12 rounded-full object-cover border border-black/10">
        `;
      }
      const init = (name || 'U')[0].toUpperCase();
      return `
        <div class="w-12 h-12 rounded-full grid place-items-center bg-black/5 text-black/70 border border-black/10">
          <span class="text-sm font-medium">${init}</span>
        </div>
      `;
    }

    function unreadBadge(n) {
      if (!n || n <= 0) return '';
      const text = n > 99 ? '99+' : String(n);
      return `
        <div class="shrink-0 w-7 h-7 rounded-full bg-blue-600 text-white grid place-items-center text-xs font-semibold">
          ${text}
        </div>
      `;
    }

    // ===== ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° =====
    const list = document.getElementById('threadList');
    const empty = document.getElementById('empty');

    function render() {
      if (!threads.length) {
        empty.classList.remove('hidden');
        return;
      }
      empty.classList.add('hidden');
      list.innerHTML = '';

      threads.forEach(t => {
        const li = document.createElement('li');
        li.className = 'py-3 sm:py-3.5';
        li.innerHTML = `
          <a href="#" class="flex items-center gap-3 sm:gap-4">
            <!-- å·¦ï¼šã‚¢ã‚¤ã‚³ãƒ³ -->
            ${avatarElm(t.name, t.avatar)}

            <!-- ä¸­å¤®ï¼šåå‰ãƒ»ã‚¹ãƒ‹ãƒšãƒƒãƒˆ -->
            <div class="min-w-0 flex-1">
              <div class="flex items-center justify-between">
                <span class="font-medium truncate">${t.name}</span>
                <span class="ml-3 shrink-0 text-xs text-black/50">${t.lastAt}</span>
              </div>
              <p class="mt-0.5 text-sm text-black/70 truncate">${t.snippet || ''}</p>
            </div>

            <!-- å³ï¼šæœªèª­ãƒãƒƒã‚¸ï¼ˆæœªèª­ã®ã¿è¡¨ç¤º/é’ï¼‰ -->
            ${unreadBadge(t.unread)}
          </a>
        `;
        list.appendChild(li);
      });
    }

    render();

    // =====ï¼ˆä»»æ„ï¼‰æœªèª­ã‚’æ—¢èª­ã«ã™ã‚‹ãƒ‡ãƒ¢ =====
    // ä¾‹: 3ç§’å¾Œã«2ç•ªç›®ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’æ—¢èª­ã«
    // setTimeout(() => { threads[1].unread = 0; render(); }, 3000);
  </script>
</body>
</html>