<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ãƒã‚¤ãƒšãƒ¼ã‚¸ | SNS</title>
  <!-- TailwindCSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">

<style>
  body {
    font-family: 'Noto Sans JP', ui-sans-serif, system-ui, -apple-system,
                 BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue",
                 Arial, "Noto Sans", sans-serif, "Apple Color Emoji",
                 "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  }
</style>
</head>
<body class="bg-white text-black">
  <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
  <header class="sticky top-0 z-10 bg-white border-b border-gray-200">
    <div class="max-w-5xl mx-auto px-4 py-3 flex items-center gap-3">
      <!-- ãƒ­ã‚´ -->
      <div class="flex items-center gap-2 font-extrabold tracking-tight">
        <div class="w-9 h-9 rounded-full bg-blue-100 grid place-items-center">SNS</div>
        <span>Social</span>
      </div>
      <nav class="ml-auto">
        <ul class="flex items-center gap-4 font-semibold">
          <li><a href="#" class="px-2 py-1 hover:underline">ãƒ›ãƒ¼ãƒ </a></li>
          <li><a href="#" class="px-2 py-1 hover:underline">æŠ•ç¨¿</a></li>
          <li><a href="#" class="px-2 py-1 hover:underline">ãƒã‚¤ãƒšãƒ¼ã‚¸</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« -->
  <section class="max-w-5xl mx-auto px-4 py-5 grid grid-cols-[88px_1fr_auto] gap-x-4 gap-y-3">
    <!-- ã‚¢ã‚¤ã‚³ãƒ³ -->
    <div id="avatar" aria-label="ã‚¢ã‚¤ã‚³ãƒ³" class="w-22 h-22 rounded-full border border-gray-200 bg-gray-100 grid place-items-center text-sm font-semibold text-gray-500">ICON</div>

    <!-- åå‰ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼åã®ã¿ã€‚@ãƒãƒ³ãƒ‰ãƒ«ã¯éè¡¨ç¤ºï¼‰ -->
    <div class="flex items-center">
      <h1 id="displayName" class="text-xl font-bold leading-tight"></h1>
    </div>

    <!-- å³å´ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆDM/é€šçŸ¥ã¯ãƒ€ãƒŸãƒ¼ï¼‰-->
    <div class="flex items-start gap-2">
      <button title="DM" aria-label="DM" class="w-9 h-9 rounded-full border border-gray-200 grid place-items-center">âœ‰ï¸</button>
      <button title="é€šçŸ¥" aria-label="é€šçŸ¥" class="w-9 h-9 rounded-full border border-gray-200 grid place-items-center">ğŸ””</button>
      <a href="profile_settings.html" class="w-9 h-9 rounded-full border border-gray-300 grid place-items-center hover:bg-gray-50">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6.5" x2="21" y2="6.5" /><line x1="3" y1="12"  x2="21" y2="12" /><line x1="3" y1="17.5" x2="21" y2="17.5" /></svg>
            </a>
    </div>

    <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ï¼šç©ºï¼‰ -->
    <div class="col-start-2 col-end-4 flex gap-6">
      <div class="grid">
        <strong id="postCount" class="text-lg font-semibold"></strong>
        <span class="text-xs text-gray-500">æŠ•ç¨¿</span>
      </div>
      <div class="grid">
        <strong id="followers" class="text-lg font-semibold"></strong>
        <span class="text-xs text-gray-500">ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼</span>
      </div>
      <div class="grid">
        <strong id="following" class="text-lg font-semibold"></strong>
        <span class="text-xs text-gray-500">ãƒ•ã‚©ãƒ­ãƒ¼ä¸­</span>
      </div>
    </div>
  </section>

  <!-- ã‚¿ãƒ– -->
  <nav class="max-w-5xl mx-auto px-4 border-b border-gray-200" role="tablist">
    <div class="flex gap-6">
      <button id="tab-posts" role="tab" aria-selected="true" aria-controls="panel-posts" class="-mb-px border-b-2 border-black px-1 py-3 font-bold">æŠ•ç¨¿</button>
      <button id="tab-map" role="tab" aria-selected="false" aria-controls="panel-map" class="-mb-px border-b-2 border-transparent hover:border-gray-300 px-1 py-3 font-bold text-gray-500">åœ°å›³</button>
    </div>
  </nav>

  <!-- æŠ•ç¨¿ã‚¿ãƒ– -->
  <section id="panel-posts" role="tabpanel" aria-labelledby="tab-posts" class="max-w-5xl mx-auto px-4 py-4">
    <div class="rounded-2xl border border-gray-200 bg-gray-50 p-4">
      <strong class="block">éå»ã®æŠ•ç¨¿</strong>
      <!-- ã‚°ãƒªãƒƒãƒ‰ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ã¯ç©ºã€‚å®Ÿãƒ‡ãƒ¼ã‚¿ã§åŸ‹ã‚ã‚‹ï¼‰ -->
      <div id="postGrid" class="mt-3 grid grid-cols-3 gap-1"></div>
      <!-- ç©ºçŠ¶æ…‹ï¼ˆè¡¨ç¤ºã—ãŸããªã„å ´åˆã¯JSã§å‰Šé™¤å¯ï¼‰ -->
      <p id="emptyHint" class="mt-3 text-sm text-gray-500">ï¼ˆã¾ã æŠ•ç¨¿ãŒã‚ã‚Šã¾ã›ã‚“ï¼‰</p>
    </div>
  </section>

  <!-- åœ°å›³ã‚¿ãƒ–ï¼ˆãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ï¼‰ -->
  <section id="panel-map" role="tabpanel" aria-labelledby="tab-map" class="max-w-5xl mx-auto px-4 py-4 hidden">
    <div class="rounded-2xl border-2 border-dashed border-gray-300 bg-white h-56 grid place-items-center text-gray-500">
      å°†æ¥çš„ã«ã€ŒæŠ•ç¨¿ä½ç½®ã‚’åœ°å›³ã§å¯è¦–åŒ–ã€äºˆå®šï¼ˆãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ï¼‰
    </div>
  </section>

  <script>
    // ======== ãƒ†ãƒ³ãƒ—ãƒ¬ç”¨ãƒ€ãƒŸãƒ¼ï¼ˆç©ºã®çŠ¶æ…‹ï¼‰ ========
    const profile = {
      displayName: "", // ãƒ¦ãƒ¼ã‚¶ãƒ¼åã®ã¿ã€‚ç©ºã®ã¾ã¾ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ï¼‰
      avatarUrl: "",
      followers: "", // ç©º
      following: "", // ç©º
      posts: []       // ç©º
    };

    const $ = (s) => document.querySelector(s);

    // åå‰ãƒ»ã‚¢ã‚¤ã‚³ãƒ³ãƒ»çµ±è¨ˆã‚’ç©ºã§è¡¨ç¤ºï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ï¼‰
    $('#displayName').textContent = profile.displayName;
    if (profile.avatarUrl) {
      const img = new Image();
      img.src = profile.avatarUrl; img.alt = 'ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒ'; img.loading = 'lazy';
      $('#avatar').innerHTML = ''; $('#avatar').appendChild(img);
    }
    $('#followers').textContent = profile.followers;
    $('#following').textContent = profile.following;
    $('#postCount').textContent = profile.posts.length ? String(profile.posts.length) : '';

    const postGrid = $('#postGrid');
    if (profile.posts.length === 0) {
      // ä½•ã‚‚ã—ãªã„ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ã¯ç©ºï¼‰
    } else {
      $('#emptyHint').remove();
      profile.posts.forEach(p => {
        const a = document.createElement('a');
        a.href = `post.html?id=${p.id}`;
        a.className = 'relative aspect-square bg-gray-200 overflow-hidden rounded-md border border-gray-200';
        const img = new Image(); img.src = p.img; img.alt = 'æŠ•ç¨¿ç”»åƒ'; img.loading = 'lazy'; img.className='w-full h-full object-cover';
        a.appendChild(img);
        postGrid.appendChild(a);
      });
    }

    // ã‚¿ãƒ–åˆ‡æ›¿
    const setTab = (key) => {
      const postsBtn = $('#tab-posts');
      const mapBtn = $('#tab-map');
      const posts = $('#panel-posts');
      const map = $('#panel-map');
      if (key === 'posts') {
        postsBtn.setAttribute('aria-selected','true'); mapBtn.setAttribute('aria-selected','false');
        posts.classList.remove('hidden'); map.classList.add('hidden');
        postsBtn.classList.add('border-b-2','border-black');
        mapBtn.classList.add('border-b-2'); mapBtn.classList.remove('border-black');
      } else {
        postsBtn.setAttribute('aria-selected','false'); mapBtn.setAttribute('aria-selected','true');
        posts.classList.add('hidden'); map.classList.remove('hidden');
        mapBtn.classList.add('border-b-2','border-black');
        postsBtn.classList.add('border-b-2'); postsBtn.classList.remove('border-black');
      }
    };
    $('#tab-posts').addEventListener('click', () => setTab('posts'));
    $('#tab-map').addEventListener('click', () => setTab('map'));

    // å…±æœ‰ï¼ˆå¯¾å¿œãƒ–ãƒ©ã‚¦ã‚¶ã§ã¯ã‚·ã‚§ã‚¢ / éå¯¾å¿œã¯ã‚³ãƒ”ãƒ¼ï¼‰
    $('#shareBtn')?.addEventListener('click', async () => {
      const shareData = { title: 'ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«', url: location.href };
      if (navigator.share) {
        try { await navigator.share(shareData); } catch (_) {}
      } else {
        try { await navigator.clipboard.writeText(shareData.url); alert('URLã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ'); } catch(_) {}
      }
    });
  </script>
</body>
</html>